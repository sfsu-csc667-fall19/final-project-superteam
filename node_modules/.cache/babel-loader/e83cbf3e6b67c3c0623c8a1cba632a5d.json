{"ast":null,"code":"var _jsxFileName = \"/Users/macx/Desktop/final-project-superteam/version_1/src/pages/Login.js\";\nimport React, { useEffect } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Chat from './Chat';\nimport md5 from 'md5';\nimport { setEmail, setPassword, setIsLoggedIn, verifyUser } from '../redux/actions/loginActions';\nimport Axios from 'axios';\nconst options = {\n  withCredential: true\n};\n\nconst Login = ({\n  dispatch,\n  isLoggedIn,\n  email,\n  password\n}) => {\n  const onClick = e => {\n    console.log('clicked');\n    e.preventDefault();\n    dispatch(verifyUser()).then(res => {\n      if (res === true) {\n        document.cookie = \"email=\".concat(email);\n        document.cookie = \"password=\".concat(md5(password));\n        dispatch(setIsLoggedIn(true));\n      } else {\n        document.cookie = \"email=\";\n        document.cookie = \"pass=\";\n        dispatch(setIsLoggedIn(false));\n      }\n    });\n  };\n\n  const loginForm = React.createElement(Form, {\n    className: \"container col-sm-3 mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"email\",\n    value: email,\n    onChange: e => dispatch(setEmail(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"password\",\n    value: password,\n    onChange: e => dispatch(setPassword(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Login\"));\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, isLoggedIn ? React.createElement(Chat, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }) : loginForm);\n};\n\nconst mapStateToProps = state => ({\n  email: state.loginReducer.email,\n  password: state.loginReducer.password,\n  isLoggedIn: state.loginReducer.isLoggedIn\n});\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/macx/Desktop/final-project-superteam/version_1/src/pages/Login.js"],"names":["React","useEffect","Form","Button","connect","Chat","md5","setEmail","setPassword","setIsLoggedIn","verifyUser","Axios","options","withCredential","Login","dispatch","isLoggedIn","email","password","onClick","e","console","log","preventDefault","then","res","document","cookie","loginForm","target","value","mapStateToProps","state","loginReducer"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Chat from './Chat';\nimport md5 from 'md5';\nimport { setEmail, setPassword, setIsLoggedIn, verifyUser} from '../redux/actions/loginActions';\nimport Axios from 'axios';\n\nconst options = {\n    withCredential: true,\n}\n\nconst Login = ({dispatch, isLoggedIn, email, password}) => {\n    \n    const onClick = (e) => {\n        console.log('clicked')\n        e.preventDefault();\n        dispatch(verifyUser()).then(res => {\n            if(res === true){\n                document.cookie = `email=${email}`;\n                document.cookie = `password=${md5(password)}`;\n                dispatch(setIsLoggedIn(true))\n            }else{\n                document.cookie = \"email=\";\n                document.cookie = \"pass=\";\n                dispatch(setIsLoggedIn(false))\n            }\n        })\n    }\n\n    const loginForm = (\n        <Form className='container col-sm-3 mt-5'>\n                <Form.Label>Sign in</Form.Label>\n                <Form.Group>\n                    <Form.Control \n                        type='text' \n                        placeholder='email'\n                        value={email}\n                        onChange = {e => dispatch(setEmail(e.target.value))}\n                    />\n                </Form.Group>\n                <Form.Group >\n                    <Form.Control \n                        type='password' \n                        placeholder='password'\n                        value={password}\n                        onChange = {e => dispatch(setPassword(e.target.value))}\n                    />\n                </Form.Group>\n                <Button \n                    variant=\"primary\"\n                    type=\"submit\"\n                    onClick = {onClick}\n                >\n                    Login\n                </Button>\n            </Form>     \n    )\n\n    return(\n        <div>\n            {isLoggedIn? <Chat/> : loginForm}\n        </div> \n    )\n}\n\nconst mapStateToProps = state => ({\n    email: state.loginReducer.email,\n    password: state.loginReducer.password,\n    isLoggedIn: state.loginReducer.isLoggedIn\n});\n\nexport default connect(mapStateToProps)(Login);"]},"metadata":{},"sourceType":"module"}